{% extends "base.html" %}

{% block extrahead %}
  {{ super() }}

  <style>
    /* Color Variables */
    :root {
      --brand-primary: #1F5BA8;     /* Dark Blue */
      --brand-primary-light: #52A9DC; /* Light Blue */
      --brand-primary-dark: #1a4c8c;  /* Darker Blue */
      --brand-secondary: #3ABCA7;    /* Green */
      --brand-secondary-light: #27AA9E; /* Teal */
      --brand-accent: #FFC20E;      /* Yellow */
      --brand-accent-dark: #ED1C24; /* Red */
      --brand-text: #000000;        /* Black */
      --brand-text-light: #333333;  /* Dark Gray */
      --brand-bg-light: #f8fafc;    /* Light Gray */
      --brand-bg: #ffffff;          /* White */
    }
    
    /* Global & Typography */
    body {
      color: var(--brand-text);
    }
    
    .md-typeset a {
      color: var(--brand-primary);
    }
    
    .md-typeset a:hover {
      color: var(--brand-primary-dark);
    }
    
    .md-typeset h1, 
    .md-typeset h2,
    .md-typeset h3, 
    .md-typeset h4,
    .md-typeset h5,
    .md-typeset h6 {
      color: var(--brand-primary-dark);
      font-weight: 600;
    }
    
    .md-typeset h1 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
    }
    
    .md-typeset h2 {
      font-size: 1.5rem;
      margin-top: 2.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid rgba(79, 70, 229, 0.1);
    }
    
    .md-typeset h3 {
      font-size: 1.25rem;
      margin-top: 1.5rem;
    }
    
    /* Header & Navigation */
    .md-header {
      background-color: var(--brand-primary);
      color: white;
    }
    
    .md-header__button.md-icon {
      color: white;
    }
    
    .md-tabs {
      background-color: var(--brand-primary-dark);
      display: block !important;
    }
    
    .md-search__input {
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 0.25rem;
    }
    
    .md-search__input:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }
    
    /* Sidebar Styling */
    .md-sidebar--primary {
      border-right: 1px solid #e5e7eb;
      background-color: var(--brand-bg);
    }
    
    .md-sidebar--primary .md-nav {
      padding: 0.5rem 0;
    }
    
    .md-sidebar--primary .md-nav__title {
      padding: 0.75rem 0.75rem;
      font-weight: 600;
      font-size: 1rem;
      border-bottom: 1px solid #e5e7eb;
      margin-bottom: 0.5rem;
      background-color: var(--brand-bg-light);
      color: var(--brand-primary);
    }
    
    .md-sidebar--primary .md-nav__link {
      margin: 0.125rem 0.5rem;
      padding: 0.375rem 0.5rem;
      border-radius: 0.25rem;
      transition: all 0.2s ease;
      font-size: 0.875rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      color: var(--brand-text);
    }
    
    .md-sidebar--primary .md-nav__link:hover {
      background-color: var(--brand-bg-light);
      color: var(--brand-primary);
    }
    
    .md-sidebar--primary .md-nav__link--active {
      background-color: rgba(79, 70, 229, 0.1);
      font-weight: 600;
      color: var(--brand-primary);
    }
    
    .md-sidebar--primary .md-nav__item .md-nav__item {
      padding: 0 0 0 0.5rem;
    }
    
    .md-nav--primary .md-nav__list {
      margin-left: 0;
      padding-left: 0;
    }
    
    /* TOC Sidebar */
    .md-sidebar--secondary .md-nav__title {
      padding: 0.75rem 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      border-bottom: 1px solid #e5e7eb;
      color: var(--brand-primary);
    }
    
    .md-sidebar--secondary .md-nav__link {
      margin: 0.125rem 0;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.8rem;
      transition: all 0.15s ease;
    }
    
    .md-sidebar--secondary .md-nav__link:hover {
      background-color: var(--brand-bg-light);
      color: var(--brand-primary);
    }
    
    .md-sidebar--secondary .md-nav__link--active {
      color: var(--brand-primary);
      font-weight: 600;
    }
    
    /* Footer */
    .md-footer {
      background-color: var(--brand-primary-dark);
    }
    
    .md-footer-meta {
      background-color: var(--brand-primary);
    }
    
    /* Card Component */
    .md-typeset .card {
      background-color: white;
      border-radius: 0.5rem;
      border: 1px solid #e5e7eb;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .md-typeset .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    .md-typeset .card-header {
      padding: 1rem;
      background-color: var(--brand-primary);
      background-image: linear-gradient(135deg, var(--brand-primary) 0%, var(--brand-primary-light) 100%);
      color: white;
      border-bottom: 3px solid var(--brand-accent);
    }
    
    .md-typeset .card-body {
      padding: 1.5rem;
    }
    
    /* Images */
    .md-typeset img {
      display: inline-block;
      border-radius: 0.375rem;
      transition: transform 0.3s ease;
      max-width: 100%;
      height: auto;
    }
    
    .md-typeset img:hover {
      transform: scale(1.02);
    }
    
    /* Responsiveness */
    @media screen and (min-width: 76.25em) {
      .md-sidebar--primary {
        width: 13rem;
      }
      
      [dir=ltr] .md-sidebar--primary {
        left: 0;
      }
      
      [dir=ltr] .md-content>.md-typeset {
        margin-left: 13rem;
        padding: 1.5rem;
      }
    }
    
    /* Mobile Menu */
    @media screen and (max-width: 76.1875em) {
      /* Mobile navigation styling */
      .md-sidebar--primary {
        width: min(20rem, 85vw) !important;
        left: 0 !important;
        top: 0 !important;
        height: 100% !important;
        position: fixed !important;
        overflow-y: auto !important;
        transform: translateX(-100%) !important;
        transition: transform 0.25s ease-in-out !important;
        z-index: 16 !important;
      }
      
      /* Show drawer when toggled */
      [data-md-toggle=drawer]:checked ~ .md-container .md-sidebar--primary {
        transform: translateX(0) !important;
        box-shadow: 0 0 12px 2px rgba(0,0,0,0.2) !important;
      }
      
      /* Overlay when menu is open */
      [data-md-toggle=drawer]:checked ~ .md-container::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 15;
        animation: fadeIn 0.25s ease-in-out;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      /* Navigation title in mobile drawer */
      .md-nav--primary .md-nav__title {
        background-color: var(--brand-primary) !important;
        color: white !important;
        padding-left: 4.8rem !important;
        height: 4.6rem !important;
        line-height: 4.6rem !important;
        font-weight: 400 !important;
        font-size: 1.2rem !important;
      }
      
      /* Fix logo position in mobile menu */
      .md-nav--primary .md-nav__button {
        position: absolute !important;
        left: 0.6rem !important;
        top: 0.6rem !important;
        width: 3.4rem !important;
        height: 3.4rem !important;
      }
      
      .md-nav--primary .md-nav__button img {
        max-width: 100% !important;
        height: auto !important;
      }
    }
    
    /* Mobile content adjustments */
    @media screen and (max-width: 48em) {
      .md-typeset h1 { font-size: 1.6rem; }
      .md-typeset h2 { font-size: 1.3rem; }
      .md-typeset .card-body { padding: 1rem; }
      .md-typeset .p-6, .md-typeset .p-8 { padding: 1rem; }
    }
    
    /* Utility Classes (simplified) */
    .md-typeset .flex { display: flex; }
    .md-typeset .items-center { align-items: center; }
    .md-typeset .justify-between { justify-content: space-between; }
    .md-typeset .grid { display: grid; gap: 1rem; }
    
    @media (min-width: 768px) {
      .md-typeset .grid.md\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .md-typeset .grid.md\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
      .md-typeset .grid.md\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    
    /* Common spacing classes */
    .md-typeset .p-4 { padding: 1rem; }
    .md-typeset .p-6 { padding: 1.5rem; }
    .md-typeset .px-4 { padding-left: 1rem; padding-right: 1rem; }
    .md-typeset .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
    
    .md-typeset .mb-4 { margin-bottom: 1rem; }
    .md-typeset .mt-2 { margin-top: 0.5rem; }
    .md-typeset .mx-auto { margin-left: auto; margin-right: auto; }
    
    /* Text classes */
    .md-typeset .text-center { text-align: center; }
    .md-typeset .text-primary { color: var(--brand-primary); }
    .md-typeset .text-white { color: white; }
    .md-typeset .font-bold { font-weight: 700; }
    
    /* Backgrounds */
    .md-typeset .bg-white { background-color: white; }
    .md-typeset .bg-primary { background-color: var(--brand-primary); }
    
    /* Fix FontAwesome icons */
    .md-typeset .fas {
      font-family: "Font Awesome 6 Free";
      font-weight: 900;
    }
    
    /* NixOS-inspired wave decoration */
    .md-typeset .wave-decoration {
      position: relative;
      overflow: hidden;
    }
    
    .md-typeset .wave-decoration:after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 10px;
      background: linear-gradient(90deg, 
        var(--brand-primary-dark) 0%, 
        var(--brand-primary-dark) 20%, 
        var(--brand-primary) 20%, 
        var(--brand-primary) 40%, 
        var(--brand-primary-light) 40%, 
        var(--brand-primary-light) 60%, 
        var(--brand-secondary) 60%, 
        var(--brand-secondary) 80%, 
        var(--brand-secondary-light) 80%, 
        var(--brand-secondary-light) 100%);
    }
  </style>
{% endblock %}